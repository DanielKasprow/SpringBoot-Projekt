<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <ui:composition>       
         <h:form id="product_dialog_form">
             <p:dialog header="dane_producta" widgetVar="product_dialog" resizable="false"
                       width="400px" modal="true">
         
         			<p:ajax event="close" update=":product_table_form:product_table"/>    
         			 
                 	<h:panelGrid columns="2" id="dane_producta">
                     	<p:outputLabel for="name" value="Nazwa: " />
                     	<p:inputText id="name" value="#{productController.product.name}" 
                     			     disabled="#{productController.mode == 'delete'}"/>
                     
                     	<p:outputLabel for="description" value="Opis: " />
                     	<p:inputText id="description" value="#{productController.product.description}"
                     	             disabled="#{productController.mode == 'delete'}"/>            
                     
                     	<p:outputLabel value="" />
                     
						<p:commandButton id="usun_button" value="UsuÅ„" actionListener="#{productController.delete()}"
                                         process="dane_producta" oncomplete="PF('product_dialog').hide()" rendered="#{productController.mode == 'delete'}"/>
                        
                        <p:commandButton id="zapisz_button" value="Zapisz" actionListener="#{productController.save()}"
                                         process="dane_producta" oncomplete="PF('product_dialog').hide()" rendered="#{productController.mode != 'delete'}"/>                     
                     	
                 </h:panelGrid>
             </p:dialog>
         </h:form>
    
    </ui:composition>
</html>
